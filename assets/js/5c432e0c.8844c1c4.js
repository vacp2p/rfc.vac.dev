"use strict";(self.webpackChunklogos_docs_template=self.webpackChunklogos_docs_template||[]).push([[3706],{34951:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var i=a(87462),n=(a(67294),a(3905));const r={title:"65/STATUS-ACCOUNT-ADDRESS",name:"Status Account Address",status:"draft",category:"Standards Track",description:"Details of what a Status account address is and how account addresses are created and used.",editor:"Aaryamann Challani <aaryamann@status.im>",contributors:["Corey Petty <corey@status.im>","Oskar Thor\xe9n <oskarth@titanproxy.com>","Samuel Hawksby-Robinson <samuel@status.im>"]},o=void 0,l={unversionedId:"65/account-address",id:"65/account-address",title:"65/STATUS-ACCOUNT-ADDRESS",description:"Details of what a Status account address is and how account addresses are created and used.",source:"@site/status/65/account-address.md",sourceDirName:"65",slug:"/65/account-address",permalink:"/status/65/account-address",draft:!1,tags:[],version:"current",frontMatter:{title:"65/STATUS-ACCOUNT-ADDRESS",name:"Status Account Address",status:"draft",category:"Standards Track",description:"Details of what a Status account address is and how account addresses are created and used.",editor:"Aaryamann Challani \\<aaryamann@status.im\\>",contributors:["Corey Petty \\<corey@status.im\\>","Oskar Thor\xe9n \\<oskarth@titanproxy.com\\>","Samuel Hawksby-Robinson \\<samuel@status.im\\>"]},sidebar:"defaultSidebar",previous:{title:"63/STATUS-Keycard-Usage",permalink:"/status/63/keycard-usage"},next:{title:"71/STATUS-PUSH-NOTIFICATION-SERVER",permalink:"/status/71/push-notification-server"}},s={},c=[{value:"Abstract",id:"abstract",level:2},{value:"Background",id:"background",level:2},{value:"Initial Key Generation",id:"initial-key-generation",level:2},{value:"Public/Private Keypairs",id:"publicprivate-keypairs",level:3},{value:"Account Broadcasting",id:"account-broadcasting",level:2},{value:"X3DH Prekey bundles",id:"x3dh-prekey-bundles",level:3},{value:"Optional Account additions",id:"optional-account-additions",level:2},{value:"ENS Username",id:"ens-username",level:3},{value:"User Profile Picture",id:"user-profile-picture",level:3},{value:"Wire Format",id:"wire-format",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Copyright",id:"copyright",level:2},{value:"References",id:"references",level:2},{value:"normative",id:"normative",level:3},{value:"informative",id:"informative",level:2}],u={toc:c};function d(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Status: draft"),(0,n.kt)("li",{parentName:"ul"},"Category: Standards Track"),(0,n.kt)("li",{parentName:"ul"},"Editor: Aaryamann Challani \\",(0,n.kt)("a",{parentName:"li",href:"mailto:aaryamann@status.im%5C"},"aaryamann@status.im\\")),(0,n.kt)("li",{parentName:"ul"},"Contributors::")),(0,n.kt)("h2",{id:"abstract"},"Abstract"),(0,n.kt)("p",null,"This specification details what a Status account address is and how account addresses are created and used."),(0,n.kt)("h2",{id:"background"},"Background"),(0,n.kt)("p",null,"The core concept of an account in Status is a set of cryptographic keypairs. Namely, the combination of the following:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"a Waku chat identity keypair"),(0,n.kt)("li",{parentName:"ol"},"a set of cryptocurrency wallet keypairs")),(0,n.kt)("p",null,"The Status node verifies or derives everything else associated with the contact from the above items, including:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Ethereum address (future verification, currently the same base keypair)"),(0,n.kt)("li",{parentName:"ul"},"identicon"),(0,n.kt)("li",{parentName:"ul"},"message signatures")),(0,n.kt)("h2",{id:"initial-key-generation"},"Initial Key Generation"),(0,n.kt)("h3",{id:"publicprivate-keypairs"},"Public/Private Keypairs"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"An ECDSA (secp256k1 curve) public/private keypair MUST be generated via a ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0043.mediawiki"},"BIP43")," derived path from a ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"},"BIP39")," mnemonic seed phrase."),(0,n.kt)("li",{parentName:"ul"},"The default paths are defined as such:",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Waku Chat Key (",(0,n.kt)("inlineCode",{parentName:"li"},"IK"),"): ",(0,n.kt)("inlineCode",{parentName:"li"},"m/43'/60'/1581'/0'/0"),"  (post Multiaccount integration)",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"following ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1581"},"EIP1581")))),(0,n.kt)("li",{parentName:"ul"},"Status Wallet paths: ",(0,n.kt)("inlineCode",{parentName:"li"},"m/44'/60'/0'/0/i")," starting at ",(0,n.kt)("inlineCode",{parentName:"li"},"i=0"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"following ",(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki"},"BIP44")),(0,n.kt)("li",{parentName:"ul"},"NOTE: this (",(0,n.kt)("inlineCode",{parentName:"li"},"i=0"),") is also the current (and only) path for Waku key before Multiaccount integration")))))),(0,n.kt)("h2",{id:"account-broadcasting"},"Account Broadcasting"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A user is responsible for broadcasting certain information publicly so that others may contact them.")),(0,n.kt)("h3",{id:"x3dh-prekey-bundles"},"X3DH Prekey bundles"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Refer to ",(0,n.kt)("a",{parentName:"li",href:"../../waku/standards/application/53/x3dh"},"53/WAKU2-X3DH")," for details on the X3DH prekey bundle broadcasting, as well as regeneration.")),(0,n.kt)("h2",{id:"optional-account-additions"},"Optional Account additions"),(0,n.kt)("h3",{id:"ens-username"},"ENS Username"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A user MAY register a public username on the Ethereum Name System (ENS).  This username is a user-chosen subdomain of the ",(0,n.kt)("inlineCode",{parentName:"li"},"stateofus.eth")," ENS registration that maps to their Waku identity key (",(0,n.kt)("inlineCode",{parentName:"li"},"IK"),"). ")),(0,n.kt)("h3",{id:"user-profile-picture"},"User Profile Picture"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"An account MAY edit the ",(0,n.kt)("inlineCode",{parentName:"li"},"IK")," generated identicon with a chosen picture.  This picture will become part of the publicly broadcasted profile of the account.")),(0,n.kt)("h2",{id:"wire-format"},"Wire Format"),(0,n.kt)("p",null,"Below is the wire format for the account information that is broadcasted publicly.\nAn Account is referred to as a Multiaccount in the wire format."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-proto"},"message MultiAccount {\n  string name = 1; // name of the account\n  int64 timestamp = 2; // timestamp of the message\n  string identicon = 3; // base64 encoded identicon\n  repeated ColorHash color_hash = 4; // color hash of the identicon\n  int64 color_id = 5; // color id of the identicon\n  string keycard_pairing = 6; // keycard pairing code\n  string key_uid = 7; // unique identifier of the account\n  repeated IdentityImage images = 8; // images associated with the account\n  string customization_color = 9; // color of the identicon\n  uint64 customization_color_clock = 10; // clock of the identicon color, to track updates\n\n  message ColorHash {\n    repeated int64 index = 1;\n  }\n\n  message IdentityImage {\n    string key_uid = 1; // unique identifier of the image\n    string name = 2; // name of the image\n    bytes payload = 3; // payload of the image\n    int64 width = 4; // width of the image\n    int64 height = 5; // height of the image\n    int64 filesize = 6; // filesize of the image\n    int64 resize_target = 7; // resize target of the image\n    uint64 clock = 8; // clock of the image, to track updates\n  }\n}\n")),(0,n.kt)("p",null,"The above payload is broadcasted when 2 devices that belong to a user need to be paired."),(0,n.kt)("h2",{id:"security-considerations"},"Security Considerations"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"This specification inherits security considerations of ",(0,n.kt)("a",{parentName:"li",href:"../../waku/standards/application/53/x3dh"},"53/WAKU2-X3DH")," and ",(0,n.kt)("a",{parentName:"li",href:"../../waku/standards/application/54/x3dh-sessions"},"54/WAKU2-X3DH-SESSIONS"),".")),(0,n.kt)("h2",{id:"copyright"},"Copyright"),(0,n.kt)("p",null,"Copyright and related rights waived via ",(0,n.kt)("a",{parentName:"p",href:"https://creativecommons.org/publicdomain/zero/1.0/"},"CC0"),"."),(0,n.kt)("h2",{id:"references"},"References"),(0,n.kt)("h3",{id:"normative"},"normative"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"../../waku/standards/application/53/x3dh"},"53/WAKU2-X3DH")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"../../waku/standards/application/54/x3dh-sessions"},"54/WAKU2-X3DH-SESSIONS")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"../55/1to1-chat"},"55/STATUS-1TO1-CHAT"))),(0,n.kt)("h2",{id:"informative"},"informative"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0043.mediawiki"},"BIP43")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"},"BIP39")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1581"},"EIP1581")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki"},"BIP44")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://ens.domains/"},"Ethereum Name System")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"../63/account-address"},"Status Multiaccount"))))}d.isMDXComponent=!0},3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=i.createContext({}),c=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=n,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||r;return a?i.createElement(h,o(o({ref:t},u),{},{components:a})):i.createElement(h,o({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);