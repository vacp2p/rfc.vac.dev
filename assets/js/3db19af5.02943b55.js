"use strict";(self.webpackChunklogos_docs_template=self.webpackChunklogos_docs_template||[]).push([[2897],{83046:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const o={title:"19/WAKU2-LIGHTPUSH",name:"Waku v2 Light Push",status:"draft",editor:"Hanno Cornelius &lt;hanno@status.im&gt;",contributors:["Daniel Kaiser &lt;danielkaiser@status.im&gt;","Oskar Thor\xe9n &lt;oskarth@titanproxy.com&gt;"]},i=void 0,s={unversionedId:"standards/core/19/lightpush",id:"standards/core/19/lightpush",title:"19/WAKU2-LIGHTPUSH",description:"- Status: draft",source:"@site/waku/standards/core/19/lightpush.md",sourceDirName:"standards/core/19",slug:"/standards/core/19/lightpush",permalink:"/waku/standards/core/19/lightpush",draft:!1,tags:[],version:"current",frontMatter:{title:"19/WAKU2-LIGHTPUSH",name:"Waku v2 Light Push",status:"draft",editor:"Hanno Cornelius &lt;hanno@status.im&gt;",contributors:["Daniel Kaiser &lt;danielkaiser@status.im&gt;","Oskar Thor\xe9n &lt;oskarth@titanproxy.com&gt;"]},sidebar:"defaultSidebar",previous:{title:"17/WAKU2-RLN-RELAY",permalink:"/waku/standards/core/17/rln-relay"},next:{title:"33/WAKU2-DISCV5",permalink:"/waku/standards/core/33/discv5"}},l={},u=[{value:"Motivation and Goals",id:"motivation-and-goals",level:2},{value:"Payloads",id:"payloads",level:2},{value:"Message Relaying",id:"message-relaying",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Copyright",id:"copyright",level:2},{value:"References",id:"references",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Status: draft"),(0,r.kt)("li",{parentName:"ul"},"Editor: Hanno Cornelius ","<",(0,r.kt)("a",{parentName:"li",href:"mailto:hanno@status.im"},"hanno@status.im"),">"),(0,r.kt)("li",{parentName:"ul"},"Contributors:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Daniel Kaiser ","<",(0,r.kt)("a",{parentName:"li",href:"mailto:danielkaiser@status.im"},"danielkaiser@status.im"),">"),(0,r.kt)("li",{parentName:"ul"},"Oskar Thor\xe9n ","<",(0,r.kt)("a",{parentName:"li",href:"mailto:oskarth@titanproxy.com"},"oskarth@titanproxy.com"),">")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Protocol identifier"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"/vac/waku/lightpush/2.0.0-beta1")),(0,r.kt)("h2",{id:"motivation-and-goals"},"Motivation and Goals"),(0,r.kt)("p",null,'Light nodes with short connection windows and\nlimited bandwidth wish to publish messages into the Waku network.\nAdditionally,\nthere is sometimes a need for confirmation\nthat a message has been received "by the network"\n(here, at least one node).'),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"19/WAKU2-LIGHTPUSH")," is a request/response protocol for this."),(0,r.kt)("h2",{id:"payloads"},"Payloads"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-protobuf"},'syntax = "proto3";\n\nmessage PushRequest {\n    string pubsub_topic = 1;\n    WakuMessage message = 2;\n}\n\nmessage PushResponse {\n    bool is_success = 1;\n    // Error messages, etc\n    string info = 2;\n}\n\nmessage PushRPC {\n    string request_id = 1;\n    PushRequest request = 2;\n    PushResponse response = 3;\n}\n')),(0,r.kt)("h3",{id:"message-relaying"},"Message Relaying"),(0,r.kt)("p",null,"Nodes that respond to ",(0,r.kt)("inlineCode",{parentName:"p"},"PushRequests")," MUST either\nrelay the encapsulated message via ",(0,r.kt)("a",{parentName:"p",href:"../11/relay"},"11/WAKU2-RELAY")," protocol\non the specified ",(0,r.kt)("inlineCode",{parentName:"p"},"pubsub_topic"),",\nor forward the ",(0,r.kt)("inlineCode",{parentName:"p"},"PushRequest")," via 19/LIGHTPUSH on a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/waku-org/specs/blob/waku-RFC/standards/application/dandelion"},"WAKU2-DANDELION"),"\nstem.\nIf they are unable to do so for some reason,\nthey SHOULD return an error code in ",(0,r.kt)("inlineCode",{parentName:"p"},"PushResponse"),"."),(0,r.kt)("h2",{id:"security-considerations"},"Security Considerations"),(0,r.kt)("p",null,"Since this can introduce an amplification factor,\nit is RECOMMENDED for the node relaying to the rest of the network\nto take extra precautions.\nThis can be done by rate limiting via ",(0,r.kt)("a",{parentName:"p",href:"../17/rln-relay"},"17/WAKU2-RLN-RELAY"),"."),(0,r.kt)("p",null,"Note that the above is currently not fully implemented."),(0,r.kt)("h2",{id:"copyright"},"Copyright"),(0,r.kt)("p",null,"Copyright and related rights waived via ",(0,r.kt)("a",{parentName:"p",href:"https://creativecommons.org/publicdomain/zero/1.0/"},"CC0"),"."),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../11/relay"},"11/WAKU2-RELAY")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/waku-org/specs/blob/waku-RFC/standards/application/dandelion"},"WAKU2-DANDELION")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"../17/rln-relay"},"17/WAKU2-RLN-RELAY"))))}c.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||c[m]||o;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);